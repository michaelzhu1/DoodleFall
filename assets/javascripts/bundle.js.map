{"version":3,"sources":["webpack:///webpack/bootstrap e43cd1515a01064d00be","webpack:///./lib/entry.js","webpack:///./lib/game.js","webpack:///./lib/player.js","webpack:///./lib/blocks/blockbase.js","webpack:///./lib/blocks/block_generator.js","webpack:///./lib/blocks/brick_block.js","webpack:///./lib/blocks/grass_block.js","webpack:///./lib/blocks/lava_block.js","webpack:///./lib/blocks/spring_block.js"],"names":["game","document","onkeydown","keydown","e","onkeyup","keyup","addEventListener","startButton","querySelector","gamePanel","getElementById","focus","startPlayer","startBlock","style","display","Game","player","point","createBlockId","setPosition","gameOver","moveDown","block","self","time","newBlock","defaultBlock","setInterval","isLive","generateBlock","addPoint","window","event","key","preventDefault","returnValue","innerHTML","Math","floor","body","clearInterval","clearBlock","removeChild","dom","Player","movepy","movepx","isMove","moveXId","moveYId","isFlip","k","g","defaultSpeed","movesp","createElement","className","appendChild","left","offsetWidth","top","moveLeftOrRight","direction","move","offsetLeft","clientWidth","offsetTop","checkCrash","dead","moveUpSpeed","moveUpFreq","initialFlipSpeed","setTimeout","offsetHeight","clientHeight","clearMoveId","BlockBase","moveId","needCheckMove","needCheckPlayerOn","site","width","height","type","animate","isPlayerOn","onCheckPlayerOn","onCheckMoveOut","end","stopMove","onPlayOn","clearTimeout","onEnd","playerDom","blockDom","BlockGenerator","blockList","random","randomPosition","console","log","setBlock","position","init","checkPlayerOn","playOn","checkMoveOut","remove","animation","push","i","length","pop","Array","prototype","obj","splice","BrickBlock","moveUp","GrassBlock","LavaBlock","SpringBlock","flip"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e43cd1515a01064d00be","import Game from \"./game\";\n\nconst game = new Game();\ndocument.onkeydown = e => {\n  game.keydown(e);\n};\ndocument.onkeyup = e => {\n  game.keyup(e);\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  let startButton = document.querySelector(\".start\");\n  game.gamePanel = document.getElementById(\"gamePanel\");\n  game.gamePanel.focus();\n  game.startPlayer();\n  game.startBlock();\n  startButton.addEventListener(\"click\", () => {\n    startButton.style.display = \"none\";\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.js","import Player from \"./player.js\";\nimport Blockbase from \"./blocks/blockbase.js\";\nimport BlockGenerator from \"./blocks/block_generator.js\";\n\nclass Game {\n  constructor() {\n    this.player = null;\n    this.point = 0;\n    this.startButton = null;\n    this.createBlockId = 0;\n  }\n\n  //initialize player\n  startPlayer() {\n    this.player = new Player();\n    this.player.setPosition(this.gamePanel);\n    this.player.gameOver = () => {\n      this.gameOver();\n    };\n    this.player.moveDown();\n  }\n  //initialize blocks\n  startBlock() {\n    this.block = new Blockbase();\n    let self = this;\n    const time = 800;\n    const newBlock = new BlockGenerator(this.gamePanel, this.player);\n    newBlock.defaultBlock();\n    this.createBlockId = setInterval(() => {\n      if (self.player.isLive) {\n        newBlock.generateBlock();\n        self.addPoint();\n      }\n    }, time);\n  }\n\n  keydown(e) {\n    e = e || window.event;\n    if (e.key === \"ArrowLeft\" || e.key === \"ArrowRight\") {\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n      this.player.keydown(e);\n    }\n  }\n\n  keyup(e) {\n    e = e || window.event;\n    if (e.key === \"ArrowLeft\" || e.key === \"ArrowRight\") {\n      this.player.keyup(e);\n    }\n  }\n\n  addPoint() {\n    this.point += 1;\n    document.getElementById(\"point\").innerHTML = Math.floor(this.point / 5);\n  }\n\n  gameOver() {\n    document.body.onkeydown = null;\n    document.body.onkeyup = null;\n    clearInterval(this.createBlockId);\n  }\n\n  reset() {\n    BlockGenerator.clearBlock();\n    this.gamePanel.removeChild(this.player.dom);\n    this.gamePanel = null;\n    this.player = null;\n    this.point = null;\n  }\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","class Player {\n  constructor() {\n    this.dom = null;\n    //player's vertical moving speed\n    this.movepy = 0;\n    //player's horizontal moving speed\n    this.movepx = 8;\n    this.isMove = false;\n    this.moveXId = 0;\n    this.moveYId = 0;\n    this.isLive = true;\n    this.isFlip = false;\n    this.gamePanel = null;\n    this.k = 0.8;\n    this.g = 1;\n    this.defaultSpeed = 1;\n    this.movesp = 35;\n    this.dom = document.createElement(\"div\");\n    this.dom.className = \"player\";\n    this.movepy = this.defaultSpeed;\n  }\n\n  setPosition(gamePanel) {\n    this.gamePanel = gamePanel;\n    this.gamePanel.appendChild(this.dom);\n    this.dom.style.left =\n      (this.gamePanel.offsetWidth - this.dom.offsetWidth) / 2 + \"px\";\n    this.dom.style.top = 70 + \"px\";\n  }\n\n  //moves left or right according to which key is pressed\n  keydown(e) {\n    if (this.isMove) {\n      return;\n    }\n    this.isMove = true;\n    this.moveLeftOrRight(e.key == \"ArrowLeft\" ? \"left\" : \"right\");\n  }\n\n  //once key is released, it stops moving\n  keyup(e) {\n    this.isMove = false;\n    clearInterval(this.moveXId);\n    this.dom.className = \"player\";\n  }\n\n  moveLeftOrRight(direction) {\n    let self = this;\n    this.dom.className = direction;\n\n    const move = () => {\n      if (!self.isLive) {\n        clearInterval(self.moveXId);\n      }\n      self.dom.style.left =\n        self.dom.offsetLeft +\n        self.movepx * (direction == \"left\" ? -1 : 1) +\n        \"px\";\n\n      if (\n        self.dom.offsetLeft >=\n          self.gamePanel.clientWidth - self.dom.clientWidth &&\n        direction == \"right\"\n      ) {\n        self.dom.style.left =\n          self.gamePanel.clientWidth - self.dom.clientWidth + \"px\";\n        clearInterval(self.moveXId);\n        //player stops moving when it reaches left border\n      } else if (self.dom.offsetLeft <= 0 && direction == \"left\") {\n        self.dom.style.left = 0 + \"px\";\n        clearInterval(self.moveXId);\n      }\n    };\n    //start moving\n    this.moveXId = setInterval(move, this.movesp);\n  }\n\n  moveDown() {\n    let self = this;\n    const move = () => {\n      self.dom.style.top = self.dom.offsetTop + self.movepy + \"px\";\n      //vertical speed + g\n      self.movepy += self.g;\n      if (self.checkCrash()) {\n        self.dead();\n      }\n    };\n    self.moveYId = setInterval(move, this.movesp);\n  }\n\n  moveUp(moveUpSpeed, moveUpFreq) {\n    let self = this;\n    const move = () => {\n      self.dom.style.top = self.dom.offsetTop - moveUpSpeed + \"px\";\n      if (self.checkCrash()) {\n        self.dead();\n      }\n    };\n    this.moveYId = setInterval(move, moveUpFreq);\n  }\n\n  flip() {\n    if (this.isFlip) {\n      return;\n    }\n    this.isFlip = true;\n    let self = this;\n    let initialFlipSpeed = 25;\n    const move = () => {\n      initialFlipSpeed *= self.k;\n      self.dom.style.top = self.dom.offsetTop - initialFlipSpeed + \"px\";\n      if (self.checkCrash()) {\n        self.dead();\n      } else if (initialFlipSpeed < 1) {\n        self.isFlip = false;\n        self.movepy = self.defaultSpeed;\n        self.moveDown();\n      } else {\n        setTimeout(move, self.movesp);\n      }\n    };\n    setTimeout(move, self.movesp);\n  }\n\n  checkCrash() {\n    if (\n      this.dom.offsetTop >=\n        this.gamePanel.offsetHeight - this.dom.clientHeight ||\n      this.dom.offsetTop <= 0\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  clearMoveId(movepy) {\n    clearInterval(this.moveYId);\n    if (movepy) {\n      this.movepy = this.defaultSpeed;\n    }\n  }\n\n  dead() {\n    this.isLive = false;\n    this.gameOver();\n    this.clearMoveId(true);\n  }\n\n  gameOver() {}\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player.js","class BlockBase {\n  constructor() {\n    this.dom = null;\n    this.className = \"\";\n    this.moveId = 0;\n    this.needCheckMove = false;\n    this.needCheckPlayerOn = true;\n    this.movepx = 3;\n    this.movesp = 35;\n    this.gamePanel = null;\n    this.site = {\n      1: 0,\n      2: 55,\n      3: 110,\n      4: 165,\n      5: 220\n    };\n    this.dom = document.createElement(\"div\");\n    this.dom.className = this.className;\n    this.dom.style.width = \"80px\";\n    this.dom.style.height = \"10px\";\n  }\n  init() {\n    this.dom = document.createElement(\"div\");\n    this.dom.className = this.className;\n    this.dom.style.width = \"80px\";\n    this.dom.style.height = \"10px\";\n  }\n\n  setPosition(gamePanel, type) {\n    if (this.gamePanel === null) {\n      this.gamePanel = gamePanel;\n    }\n    this.dom.style.left = this.site[type] + \"px\";\n    this.dom.style.top = this.gamePanel.offsetHeight + \"px\";\n    this.gamePanel.appendChild(this.dom);\n  }\n\n  animation() {\n    let self = this;\n    const animate = () => {\n      if (self.dom === null) {\n        return;\n      }\n      let top = self.dom.offsetTop - self.movepx;\n      self.dom.style.top = top + \"px\";\n      //checking if player is on the block\n      let isPlayerOn = self.needCheckPlayerOn && self.onCheckPlayerOn();\n      //checking if player moves on the block\n      if (self.needCheckMove) {\n        self.onCheckMoveOut();\n      }\n      //block is out of the dom and player is not on it, then it disappear\n      if (top <= -self.dom.offsetHeight && !isPlayerOn) {\n        self.end();\n      } else if (isPlayerOn) {\n        //excute block effects accordingly\n        self.stopMove();\n        self.onPlayOn();\n      }\n    };\n    this.moveId = setInterval(animate, this.movesp);\n  }\n\n  stopMove() {\n    clearTimeout(this.moveId);\n  }\n\n  end() {\n    this.stopMove();\n    this.gamePanel.removeChild(this.dom);\n    this.dom = null;\n    this.onEnd();\n  }\n\n  checkPlayerOn(player) {\n    if (player.isFlip) {\n      return false;\n    }\n    let playerDom = player.dom;\n    let blockDom = this.dom;\n\n    //check if player is within the block dom\n    if (\n      playerDom.offsetLeft > blockDom.offsetLeft - playerDom.clientWidth &&\n      playerDom.offsetLeft < blockDom.offsetLeft + blockDom.clientWidth\n    ) {\n      //this checks if the player y cordinate is above the block as well as its next move's y cord\n      if (\n        playerDom.offsetTop + playerDom.clientHeight <= blockDom.offsetTop &&\n        playerDom.offsetTop +\n          playerDom.clientHeight +\n          player.movepy +\n          player.g >\n          blockDom.offsetTop - this.movepx\n      ) {\n        playerDom.style.top =\n          blockDom.offsetTop - playerDom.offsetHeight + \"px\";\n        this.needCheckPlayerOn = false;\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // checkMoveOut(player) {}\n  //\n  // playOn(player) {}\n  // onCheckMoveOut() {}\n  // onCheckPlayerOn() {}\n  // onPlayOn() {}\n}\n\nexport default BlockBase;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/blocks/blockbase.js","import BrickBlock from \"./brick_block\";\nimport GrassBlock from \"./grass_block\";\nimport LavaBlock from \"./lava_block\";\nimport SpringBlock from \"./spring_block\";\n\nclass BlockGenerator {\n  constructor(gamePanel, player) {\n    this.gamePanel = gamePanel;\n    this.player = player;\n    this.blockList = [];\n  }\n\n  //randomly generate different kinds of blocks in random positions\n  generateBlock() {\n    const random = Math.floor(Math.random() * 11 + 1);\n    let block;\n    if (random === 3) {\n      block = new LavaBlock();\n    } else if (random === 5) {\n      block = new BrickBlock();\n    } else if (random === 7) {\n      block = new GrassBlock();\n    } else if (random === 9) {\n      block = new BrickBlock();\n    } else if (random === 11) {\n      block = new SpringBlock();\n    } else {\n      return;\n    }\n    const randomPosition = Math.floor(Math.random() * 5 + 1);\n    console.log(block);\n    this.setBlock(block, randomPosition);\n  }\n\n  //ensure the player have a easy time starting the game\n  defaultBlock() {\n    let block = new BrickBlock();\n    this.setBlock(block, 5);\n  }\n\n  init(gamePanel, player) {\n    this.gamePanel = gamePanel;\n    this.player = player;\n  }\n\n  setBlock(block, position) {\n    let self = this;\n    block.init();\n    block.setPosition(this.gamePanel, position);\n    block.onCheckPlayerOn = function() {\n      return this.checkPlayerOn(self.player);\n    };\n    block.onPlayOn = function() {\n      this.playOn(self.player);\n    };\n    block.onCheckMoveOut = function() {\n      this.checkMoveOut(self.player);\n    };\n    block.onEnd = function() {\n      self.blockList.remove(this);\n    };\n    block.animation();\n    this.blockList.push(block);\n  }\n\n  stopBlock() {\n    for (let i = 0; i < this.blockList.length; i++) {\n      this.blockList[i].stopMove();\n    }\n  }\n\n  clearBlock() {\n    for (let i = 0; i < this.blockList.length; i++) {\n      let block = this.blockList.pop();\n      this.gamePanel.removeChild(block.dom);\n      block.dom = null;\n      block = null;\n    }\n  }\n}\n\nArray.prototype.remove = function(obj) {\n  for (let i = 0; i < this.length; i++) {\n    if (this[i] == obj || this[i].dom == null) {\n      this.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\nexport default BlockGenerator;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/blocks/block_generator.js","import BlockBase from \"./blockbase\";\n\nclass BrickBlock extends BlockBase {\n  constructor() {\n    super();\n    this.className = \"brick\";\n  }\n\n  playOn(player) {\n    //player stops moving vertically\n    player.clearMoveId(true);\n    //player moves up with the same speed as block it's on\n    player.moveUp(3, 35);\n    this.animation();\n    this.needCheckMove = true;\n  }\n\n  checkMoveOut(player) {\n    let playerDom = player.dom;\n    let blockDom = this.dom;\n\n    //when player moves out of the block\n    if (\n      playerDom.offsetLeft <= blockDom.offsetLeft - playerDom.clientWidth ||\n      playerDom.offsetLeft >= blockDom.offsetLeft + blockDom.clientWidth\n    ) {\n      //player moves downward\n      player.clearMoveId(true);\n      player.moveDown();\n      this.needCheckMove = false;\n      this.needCheckPlayerOn = true;\n    }\n  }\n}\n\nexport default BrickBlock;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/blocks/brick_block.js","import BlockBase from \"./blockbase\";\n\nclass GrassBlock extends BlockBase {\n  constructor() {\n    super();\n    this.className = \"grass\";\n  }\n\n  playOn(player) {\n    player.clearMoveId(true);\n    player.moveUp(this.movepx, this.movesp);\n    this.animation();\n    this.needCheckMove = true;\n    setTimeout(() => {\n      this.end();\n      this.needCheckPlayerOn = true;\n      player.clearMoveId(true);\n      player.moveDown();\n    }, 500);\n  }\n\n  checkMoveOut(player) {\n    let playerDom = player.dom;\n    let blockDom = this.dom;\n\n    //when player moves out of the block\n    if (\n      playerDom.offsetLeft <= blockDom.offsetLeft - playerDom.clientWidth ||\n      playerDom.offsetLeft >= blockDom.offsetLeft + blockDom.clientWidth\n    ) {\n      //player moves downward\n      player.clearMoveId(true);\n      player.moveDown();\n      this.needCheckMove = false;\n      this.needCheckPlayerOn = true;\n    }\n  }\n}\n\nexport default GrassBlock;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/blocks/grass_block.js","import BlockBase from \"./blockbase\";\n\nclass LavaBlock extends BlockBase {\n  constructor() {\n    super();\n    this.className = \"lava\";\n  }\n  //player dies when it lands on it\n  playOn(player) {\n    player.clearMoveId(true);\n    player.dead();\n  }\n}\n\nexport default LavaBlock;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/blocks/lava_block.js","import BlockBase from \"./blockbase\";\n\nclass SpringBlock extends BlockBase {\n  constructor() {\n    super();\n    this.className = \"spring\";\n  }\n  playOn(player) {\n    player.clearMoveId(true);\n    player.flip();\n    this.needCheckPlayerOn = true;\n    this.animation();\n  }\n}\n\nexport default SpringBlock;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/blocks/spring_block.js"],"sourceRoot":""}