{"version":3,"sources":["webpack:///webpack/bootstrap 9a7f2fa4652ea8912ad6","webpack:///./lib/entry.js","webpack:///./lib/game.js","webpack:///./lib/player.js","webpack:///./lib/blocks/blockbase.js","webpack:///./lib/blocks/block_generator.js"],"names":["document","addEventListener","startButton","querySelector","style","display","init","Game","gamePanel","player","point","createBlockId","getElementById","focus","body","onkeydown","keydown","e","onkeyup","keyup","startPlayer","startBlock","setPosition","gameOver","moveDown","block","that","time","keyDown","key","preventDefault","keyUp","addPoint","innerHTML","Math","floor","stopBlock","clearInterval","reset","Player","health","dom","moveYSpeed","moveXSpeed","moveXId","moveYid","isMoving","isLive","elasticity","gravity","defaultMoveYSpeed","moveFrame","createElement","appendChild","left","offsetWidth","top","direction","self","className","isMove","dir","moveLeftOrRight","BlockBase","positionX","positionY","BlockGenerator","blockList","random","randomPosition","setBlock","position","onCheckPlayerOn","checkPlayerOn","onPlayOn","playOn","bind","checkMoveOut","onEnd","remove","i","length","stopMove","pop","removeChild","Array","prototype","obj","splice"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9a7f2fa4652ea8912ad6","import Game from \"./game\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  let startButton = document.querySelector(\".start\");\n  startButton.addEventListener(\"click\", () => {\n    startButton.style.display = \"none\";\n    Game.init();\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.js","import Player from \"./player.js\";\nimport Blockbase from \"./blocks/blockbase.js\";\nimport BlockGenerator from \"./blocks/block_generator.js\";\n\nconst Game = {\n  gamePanel: null,\n  player: null,\n  point: 0,\n  startButton: null,\n  createBlockId: 0,\n\n  init() {\n    this.gamePanel = document.getElementById(\"game-wrapper\");\n    this.gamePanel.focus();\n    document.body.onkeydown = e => {\n      Game.keydown(e);\n    };\n    document.body.onkeyup = e => {\n      Game.keyup(e);\n    };\n    this.startPlayer();\n    this.startBlock();\n  },\n\n  //initialize player\n  startPlayer() {\n    this.player = new Player();\n    this.player.setPosition(this.gamePanel);\n    this.player.gameOver = () => {\n      Game.gameOver();\n    };\n    this.player.moveDown();\n  },\n  //initialize blocks\n  startBlock() {\n    this.block = new Blockbase();\n    let that = this;\n    const time = 1100;\n    BlockGenerator.init(this.gamePanel, this.player);\n  },\n\n  keyDown() {\n    return e => {\n      if (e.key === \"ArrowLeft\" || e.key === \"ArrowRight\") {\n        e.preventDefault();\n        this.player.keyDown(e);\n      }\n    };\n  },\n\n  keyUp() {\n    return e => {\n      if (e.key === \"ArrowLeft\" || e.key === \"ArrowRight\") {\n        e.preventDefault();\n        this.player.keyUp(e);\n      }\n    };\n  },\n\n  addPoint() {\n    this.point += 1;\n    document.getElementById(\"point\").innerHTML = Math.floor(this.point / 5);\n  },\n\n  gameOver() {\n    BlockGenerator.stopBlock();\n    document.body.onkeydown = null;\n    document.body.onkeyup = null;\n    clearInterval(this.createBlockId);\n  },\n\n  reset() {}\n};\n\n//start the game here\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","class Player {\n  constructor() {\n    this.health = 100;\n    this.dom = null;\n    //player's vertical moving speed\n    this.moveYSpeed = 0;\n    //player's horizontal moving speed\n    this.moveXSpeed = 8;\n    this.moveXId = 0;\n    this.moveYid = 0;\n    this.isMoving = false;\n    this.isLive = true;\n    this.gamePanel = null;\n    this.elasticity = 0.8;\n    this.gravity = 1;\n    this.defaultMoveYSpeed = 1;\n    this.moveFrame = 40;\n  }\n  init() {\n    this.dom = document.createElement(\"div\");\n  }\n\n  setPosition(gamePanel) {\n    this.gamePanel = gamePanel;\n    this.gamePanel.appendChild(this.dom);\n    this.dom.style.left =\n      (this.gamePanel.offsetWidth - this.dom.offsetWidth) / 2 + \"px\";\n    this.dom.style.top = 70 + \"px\";\n  }\n\n  moveLeftOrRight(direction) {\n    let self = this;\n    this.dom.className = direction;\n    // const move = () =>{\n    //   if (self.isLive === false) {\n    //\n    //   }\n    // }\n  }\n\n  //moves left or right according to which key is pressed\n  keyDown(e) {\n    if (this.isMove) {\n      return;\n    }\n    this.isMove = true;\n    const dir = e.key === 37 ? \"left\" : \"right\";\n    this.moveLeftOrRight(dir);\n  }\n\n  //once key is released, it stops moving\n  keyUp(e) {\n    this.isMoving = false;\n    clearInterval(this.moveXId);\n  }\n\n  moveDown() {}\n\n  moveUp() {}\n\n  flip() {}\n\n  checkCrash() {}\n\n  dead() {\n    this.isLive = false;\n    this.gameOver();\n  }\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player.js","class BlockBase {\n  constructor() {\n    this.positionX = 0;\n    this.positionY = 0;\n  }\n\n\n}\n\nexport default BlockBase;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/blocks/blockbase.js","import BrickBlock from \"./brick_block\";\nimport GrassBlock from \"./grass_block\";\nimport LavaBlock from \"./lava_block\";\nimport SpringBlock from \"./spring_block\";\n\nclass BlockGenerator {\n  constructor() {\n    this.gamePanel = null;\n    this.player = null;\n    this.blockList = [];\n  }\n\n  init(gamePanel, player) {\n    this.gamePanel = gamePanel;\n    this.player = player;\n  }\n\n  //randomly generate different kinds of blocks in random positions\n  generateBlock() {\n    const random = Math.floor(Math.random() * 11 + 1);\n    let block;\n    if (random === 5) {\n      block = new BrickBlock();\n    } else if (random === 7) {\n      block = new GrassBlock();\n    } else if (random === 9) {\n      block = new SpringBlock();\n    } else if (random === 11) {\n      block = new LavaBlock();\n    }\n    const randomPosition = Math.floor(Math.random() * 5 + 1);\n    this.setBlock(block, randomPosition);\n  }\n\n  //ensure the player have a easy time starting the game\n  defaultBlock() {\n    let block = new BrickBlock();\n    this.setBlock(block, 3);\n  }\n\n  setBlock(block, position) {\n    let self = this;\n    block.init();\n    block.setPosition(this.gamePanel, position);\n    block.onCheckPlayerOn = () => {\n      return this.checkPlayerOn(self.player);\n    };\n    block.onPlayOn = this.playOn.bind(this);\n    block.onCheckPlayerOn = this.checkMoveOut.bind(this);\n    block.onEnd = () => {\n      self.blockList.remove(this);\n    };\n  }\n\n  stopBlock() {\n    for (let i = 0; i < this.blockList.length; i++) {\n      this.blockList[i].stopMove();\n    }\n  }\n\n  clearBlock() {\n    for (let i = 0; i < this.blockList.length; i++) {\n      let block = this.blockList[i].pop();\n      this.gamePanel.removeChild(block.dom);\n      block.dom = null;\n      block = null;\n    }\n  }\n}\n\nArray.prototype.remove = function(obj) {\n  for (let i = 0; i < this.length; i++) {\n    if (this[i] == obj || this[i].dom == null) {\n      this.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\nexport default BlockGenerator;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/blocks/block_generator.js"],"sourceRoot":""}